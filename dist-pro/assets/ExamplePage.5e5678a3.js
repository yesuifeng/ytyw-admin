var e=Object.defineProperty,a=Object.defineProperties,t=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,r=(a,t,l)=>t in a?e(a,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):a[t]=l;import{_ as s}from"./ContentWrap.05f9c347.js";import{_ as p}from"./Search.1b1ee4d3.js";import{d as m,u as n,b as d,a3 as c,aO as b,r as u,o as f,y as g,m as j,a as y,A as x,l as v,k as _,v as D,t as w,i as P}from"./index.fce40114.js";/* empty css                  *//* empty css               */import{_ as h}from"./Table.vue_vue_type_script_lang.a35ec463.js";import{g as O,d as S}from"./index.72dc9638.js";import{u as k}from"./useTable.b32bca35.js";import{u as C}from"./useEmitt.1041870f.js";/* empty css                *//* empty css                  */import"./Form.vue_vue_type_script_lang.e1b3ddf6.js";/* empty css                     *//* empty css               *//* empty css                 *//* empty css                  *//* empty css                     *//* empty css                        *//* empty css                   */import"./InputPassword.6e38ae1b.js";import"./plugin-vue_export-helper.21dcd24c.js";import"./Editor.100b4827.js";import"./tsxHelper.dbd7218e.js";import"./useForm.087daf55.js";/* empty css                   *//* empty css                      */import"./useAxios.b84ad4c6.js";/* empty css                       *//* empty css                   */const L={class:"mb-10px"},R=m((z=((e,a)=>{for(var t in a||(a={}))o.call(a,t)&&r(e,t,a[t]);if(l)for(var t of l(a))i.call(a,t)&&r(e,t,a[t]);return e})({},{name:"ExamplePage"}),a(z,t({setup(e){const{push:a}=n(),{register:t,tableObject:l,methods:o}=k({getListApi:O,delListApi:S,response:{list:"list",total:"total"}}),{getList:i,setSearchParams:r}=o;i(),C({name:"getList",callback:e=>{"add"===e&&(l.currentPage=1),i()}});const{t:m}=x(),R=[{label:m("exampleDemo.title"),value:"",component:"Input",field:"title"}],z=d([{field:"index",label:m("tableDemo.index"),type:"index"},{field:"title",label:m("tableDemo.title")},{field:"author",label:m("tableDemo.author")},{field:"display_time",label:m("tableDemo.displayTime")},{field:"importance",label:m("tableDemo.importance"),formatter:(e,a,t)=>c(b,{type:1===t?"success":2===t?"warning":"danger"},(()=>m(1===t?"tableDemo.important":2===t?"tableDemo.good":"tableDemo.commonly")))},{field:"pageviews",label:m("tableDemo.pageviews")},{field:"action",width:"260px",label:m("tableDemo.action")}]),A=()=>{a("/example/example-add")},E=u(!1),I=async(e,a)=>{var t;l.currentRow=e;const{delList:i,getSelections:r}=o,s=await r();E.value=!0,await i(a?s.map((e=>e.id)):[null==(t=l.currentRow)?void 0:t.id],a).finally((()=>{E.value=!1}))},T=(e,t)=>{a(`/example/example-${t}?id=${e.id}`)};return(e,a)=>(f(),g(y(s),null,{default:j((()=>[v(y(p),{schema:R,onSearch:y(r),onReset:y(r)},null,8,["onSearch","onReset"]),_("div",L,[v(y(P),{type:"primary",onClick:A},{default:j((()=>[D(w(y(m)("exampleDemo.add")),1)])),_:1}),v(y(P),{loading:E.value,type:"danger",onClick:a[0]||(a[0]=e=>I(null,!0))},{default:j((()=>[D(w(y(m)("exampleDemo.del")),1)])),_:1},8,["loading"])]),v(y(h),{pageSize:y(l).pageSize,"onUpdate:pageSize":a[1]||(a[1]=e=>y(l).pageSize=e),currentPage:y(l).currentPage,"onUpdate:currentPage":a[2]||(a[2]=e=>y(l).currentPage=e),columns:y(z),data:y(l).tableList,loading:y(l).loading,pagination:{total:y(l).total},onRegister:y(t)},{action:j((({row:e})=>[v(y(P),{type:"primary",onClick:a=>T(e,"edit")},{default:j((()=>[D(w(y(m)("exampleDemo.edit")),1)])),_:2},1032,["onClick"]),v(y(P),{type:"success",onClick:a=>T(e,"detail")},{default:j((()=>[D(w(y(m)("exampleDemo.detail")),1)])),_:2},1032,["onClick"]),v(y(P),{type:"danger",onClick:a=>I(e,!1)},{default:j((()=>[D(w(y(m)("exampleDemo.del")),1)])),_:2},1032,["onClick"])])),_:1},8,["pageSize","currentPage","columns","data","loading","pagination","onRegister"])])),_:1}))}}))));var z;export{R as default};
