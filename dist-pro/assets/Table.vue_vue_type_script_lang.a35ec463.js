var e=Object.defineProperty,a=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable,n=(a,l,r)=>l in a?e(a,l,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[l]=r,t=(e,t)=>{for(var i in t||(t={}))l.call(t,i)&&n(e,i,t[i]);if(a)for(var i of a(t))r.call(t,i)&&n(e,i,t[i]);return e};import{d as i,z as o,r as d,N as s,a as p,K as c,w as u,aP as g,aQ as f,l as h,aa as v,ah as m,a9 as b,ab as w,H as x}from"./index.fce40114.js";/* empty css                   *//* empty css                      *//* empty css                  *//* empty css               *//* empty css                  *//* empty css                     *//* empty css                 */import{g as j}from"./tsxHelper.dbd7218e.js";var y=i({name:"Table",props:{pageSize:o.number.def(10),currentPage:o.number.def(1),selection:o.bool.def(!0),showOverflowTooltip:o.bool.def(!0),columns:{type:Array,default:()=>[]},expand:o.bool.def(!1),pagination:{type:Object,default:()=>{}},reserveSelection:o.bool.def(!1),loading:o.bool.def(!1),reserveIndex:o.bool.def(!1),align:o.string.validate((e=>["left","center","right"].includes(e))).def("left"),headerAlign:o.string.validate((e=>["left","center","right"].includes(e))).def("left"),data:{type:Array,default:()=>[]}},emits:["update:pageSize","update:currentPage","register"],setup(e,{attrs:a,slots:l,emit:r,expose:n}){const i=d();s((()=>{var e;r("register",null==(e=p(i))?void 0:e.$parent,p(i))}));const o=d(e.pageSize),y=d(e.currentPage),O=d({}),S=d({}),P=c((()=>{const a=t({},e);return Object.assign(a,p(S)),a})),A=(e,a)=>{var l;const{columns:r}=p(P);for(const n of a||r)for(const a of e)n.field===a.field?x(n,a.path,a.value):(null==(l=n.children)?void 0:l.length)&&A(e,n.children)},z=d([]),T=e=>{z.value=e};n({setProps:(e={})=>{S.value=Object.assign(p(S),e),O.value=e},setColumn:A,selections:z});const $=c((()=>Object.assign({small:!1,background:!1,pagerCount:7,layout:"sizes, prev, pager, next, jumper, ->, total",pageSizes:[10,20,30,40,50,100],disabled:!1,hideOnSinglePage:!1,total:10},p(P).pagination)));u((()=>p(P).pageSize),(e=>{o.value=e})),u((()=>p(P).currentPage),(e=>{y.value=e})),u((()=>o.value),(e=>{r("update:pageSize",e)})),u((()=>y.value),(e=>{r("update:currentPage",e)}));const I=c((()=>{const l=t(t({},a),e);return delete l.columns,delete l.data,l})),C=()=>{const{selection:e,reserveSelection:a,align:l,headerAlign:r}=p(P);return e?h(b,{type:"selection",reserveSelection:a,align:l,headerAlign:r,width:"50"},null):void 0},H=()=>{const{align:e,headerAlign:a}=p(P);return p(P).expand?h(b,{type:"expand",align:e,headerAlign:a},{default:e=>j(l,"expand",e)}):void 0},U=e=>{const{columns:a,reserveIndex:r,pageSize:n,currentPage:i,align:o,headerAlign:d,showOverflowTooltip:s}=p(P);return[H(),C()].concat((e||a).map((e=>{if("index"===e.type)return h(b,{type:"index",index:e.index?e.index:e=>((e,a,l,r)=>{const n=a+1;return e?l*(r-1)+n:n})(r,e,n,i),align:e.align||o,headerAlign:e.headerAlign||d,label:e.label,width:"65px"},null);{const a=t({},e);return a.children&&delete a.children,h(b,m({showOverflowTooltip:s,align:o,headerAlign:d},a,{prop:e.field}),{default:a=>{var r;return e.children&&e.children.length?(e=>{const{align:a,headerAlign:r,showOverflowTooltip:n}=p(P);return e.map((e=>{const i=t({},e);return i.children&&delete i.children,h(b,m({showOverflowTooltip:n,align:a,headerAlign:r},i,{prop:e.field}),{default:a=>{var r;return e.children&&e.children.length?U(e.children):j(l,e.field,a)||(null==(r=null==e?void 0:e.formatter)?void 0:r.call(e,a.row,a.column,a.row[e.field],a.$index))||a.row[e.field]},header:j(l,`${e.field}-header`)})}))})(e.children):j(l,e.field,a)||(null==(r=null==e?void 0:e.formatter)?void 0:r.call(e,a.row,a.column,a.row[e.field],a.$index))||a.row[e.field]},header:j(l,`${e.field}-header`)})}})))};return()=>g(h("div",null,[h(v,m({ref:i,data:p(P).data,"onSelection-change":T},p(I)),{default:()=>U(),append:()=>j(l,"append")}),p(P).pagination?h(w,m({pageSize:o.value,"onUpdate:pageSize":e=>o.value=e,currentPage:y.value,"onUpdate:currentPage":e=>y.value=e,class:"mt-10px"},p($)),null):void 0]),[[f,p(P).loading]])}});export{y as _};
